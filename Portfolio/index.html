<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Dylan Samaan â€” Portfolio</title>

    <!-- Shared styles -->
    <link rel="stylesheet" href="css/style.css" />
</head>

<body>
<div class="hud">
    <div class="screen">
        <h1 class="hud-title">
            Dylan Samaan
        </h1>

        <div class="menu-buttons">
            <button onclick="window.location.href='sandman-arcade/'"
                data-desc="My trio of Arcade-style minigames (p5.js / Java).">
                My Arcade
            </button>

            <button onclick="window.location.href='gallery.html'"
                data-desc="A gallery of digital artworks I've created over the years.">
                Gallery
            </button>

            <button onclick="window.location.href='About-Me.html'"
                data-desc="My motivation, my goals, and more information.">
                About Me
            </button>
        </div>
    </div>

    <!-- Bubble pops OUTSIDE the screen (below it) -->
    <div id="speech" class="speech-pop" aria-live="polite">
        <p id="speechText"></p>
    </div>
</div>

<audio id="hoverSound" src="assets/sounds/hover.mp3" preload="auto"></audio>

<script>
  // Elements
  const speech = document.getElementById("speech");
  const speechText = document.getElementById("speechText");
  const menu = document.querySelector(".menu-buttons");
  const hoverSound = document.getElementById("hoverSound");

  // Sound settings
  let lastPlayed = 0;
  const SOUND_COOLDOWN = 120;

  function playHoverSound() {
    const now = performance.now();
    if (now - lastPlayed < SOUND_COOLDOWN) return;

    lastPlayed = now;
    hoverSound.currentTime = 0;
    hoverSound.volume = 0.5;
    hoverSound.play().catch(() => { });
  }

  // Bubble show/hide
  let hideTimer = null;
  const HIDE_DELAY = 120;

  function showBubble(text) {
    if (hideTimer) clearTimeout(hideTimer);
    speechText.textContent = text;
    speech.classList.add("visible");
  }

  function hideBubbleSoon() {
    if (hideTimer) clearTimeout(hideTimer);
    hideTimer = setTimeout(() => {
      speech.classList.remove("visible");
    }, HIDE_DELAY);
  }

  // Pointer behavior
  menu.addEventListener("pointerover", (e) => {
    const btn = e.target.closest("button");
    if (!btn) return;

    const desc = btn.getAttribute("data-desc") || "";
    showBubble(desc);
    playHoverSound();
  });

  menu.addEventListener("pointerleave", hideBubbleSoon);

  // Keyboard behavior
  menu.addEventListener("focusin", (e) => {
    const btn = e.target.closest("button");
    if (!btn) return;

    const desc = btn.getAttribute("data-desc") || "";
    showBubble(desc);
    playHoverSound();
  });

  menu.addEventListener("focusout", (e) => {
    const next = e.relatedTarget;
    if (next && menu.contains(next)) return;
    hideBubbleSoon();
  });
</script>


</body>

</html>